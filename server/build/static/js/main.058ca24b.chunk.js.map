{"version":3,"sources":["utils/Room.js","utils/Graph.js","utils/Timer.js","App.js","index.js"],"names":["BasicTemp","styled","div","props","color","first","second","temp","RoomName","h3","RoomTempHolder","span","Room","roomname","onClick","GraphContainer","GraphButton","button","Graph","room","useState","size","setSize","ref","useRef","useEffect","fetch","then","res","json","obj","canv","date","forEach","element","t","Object","values","slice","replace","push","myChartRef","getContext","chart","type","data","labels","datasets","label","borderWidth","borderColor","backgroundColor","options","events","legend","display","scales","yAxes","ticks","suggestedMin","suggestedMax","xAxes","time","unit","draw","current","map","el","key","TimeShow","TextHolder","h4","Timer","replaceAll","Container","App","result","salon","pawel","michal","bedroom","bathroom","setRoom","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.058ca24b.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst BasicTemp = styled.div`\r\n  width: 14em;\r\n  height: 9em;\r\n  margin: 1em;\r\n  background-color: #ddd;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition-duration: .3s;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  background: ${props => {\r\n    let color = { first: \"rgba(136,255,134,1)\", second: \"rgba(254,255,0,1)\" }\r\n    if (props.temp <= 19) color = { first: \"rgba(134,255,193,1)\", second: \"rgba(0,159,255,1)\" }\r\n    else if (props.temp >= 22.5) color = { first: \"rgba(255,241,134,1)\", second: \"rgba(255,192,0,1)\" }\r\n    \r\n    return \"linear-gradient(175deg,\" + color.first + \" 10%, \" + color.second + \" 35%, rgba(224,224,224,1) 35%);\"\r\n  }};\r\n`\r\n\r\nconst RoomName = styled.h3`\r\n  margin: .6em 1.2em;\r\n`\r\n\r\nconst RoomTempHolder = styled.span`\r\n  width: 14em;\r\n  height: 6em;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n`\r\n\r\nconst Room = ({temp, roomname, onClick}) => {\r\n  return (\r\n    <BasicTemp temp={temp} onClick={onClick}>\r\n      <RoomName>{roomname}</RoomName>\r\n      <RoomTempHolder>\r\n        <h1>{temp} <sup>o</sup>C</h1>\r\n      </RoomTempHolder>\r\n    </BasicTemp>\r\n  )\r\n}\r\n\r\n\r\nexport default Room;","import React, { useState, useEffect, useRef } from 'react';\r\nimport chart from 'chart.js'\r\nimport styled from 'styled-components'\r\n\r\nconst GraphContainer = styled.div`\r\n  max-width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  width: 40em;\r\n  background-color: #ddd;\r\n  padding: .5em;\r\n`\r\nconst GraphButton = styled.button`\r\n  margin: 0 .5em 1.5em .5em;\r\n`\r\n\r\nconst draw = (obj, canv) => {\r\n  let temp = []\r\n  let date = []\r\n\r\n  obj.forEach(element => {\r\n    let t = Object.values(element)\r\n    t[1] = t[1].slice(0, 16).replace('T', ' ')\r\n    temp.push(t[0])\r\n    date.push(t[1])\r\n  });\r\n\r\n  const myChartRef = canv.getContext(\"2d\");\r\n  new chart(myChartRef, {\r\n    type: 'line',\r\n    data: {\r\n      labels: date,\r\n      datasets: [{\r\n        label: 'temperatura',\r\n        data: temp,\r\n        borderWidth: 3,\r\n        borderColor: '#333',\r\n        backgroundColor: 'rgba(0,0,0,0)'\r\n      }],\r\n\r\n    },\r\n    options: {\r\n      events: [\"click\"],  \r\n      legend: {\r\n        display: false\r\n      },\r\n      backgroundColor: '#ddd',\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            suggestedMin: 19,\r\n            suggestedMax: 26\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          type: \"time\",\r\n          time: {\r\n            unit: \"hour\"\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\n\r\nconst Graph = ({ room }) => {\r\n  const [size, setSize] = useState(6);\r\n  const ref = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if(!room) return;\r\n    fetch(`http://192.168.89.200:3001/temp/hist/${room}/${size}`)\r\n      .then(res => res.json())\r\n      .then(res => draw(res, ref.current))\r\n  }, [size, room])\r\n\r\n  if(!room) return null;\r\n  return (\r\n    <GraphContainer room={room}>\r\n      <canvas ref={ref} />\r\n      {\r\n        [6, 12, 24, 48, 96].map(el => <GraphButton key={el} onClick={() => setSize(el)}>{el} godzin</GraphButton> )\r\n      }\r\n    </GraphContainer>\r\n  )\r\n};\r\n\r\nexport default Graph","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst TimeShow = styled.div`\r\n    width: 20em;\r\n    height: 3.5em;\r\n    background-color: #ddd;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-content: center;\r\n    padding: .4em;\r\n`\r\n\r\nconst TextHolder = styled.h4`\r\n    margin: .2em;\r\n`\r\n\r\nconst process = date => {\r\n    return date.slice(0, 16).replaceAll('-', '.').replaceAll('T', ' ')\r\n}\r\n\r\nconst Timer = ({time}) => {\r\n    return (\r\n        <TimeShow>\r\n            <TextHolder>Ostatnia aktualizacja:</TextHolder>\r\n            <TextHolder>{process(time)}</TextHolder>\r\n        </TimeShow>\r\n    )\r\n}\r\n\r\nexport default Timer;","import React, { useState } from 'react';\r\nimport Room from './utils/Room';\r\nimport styled from 'styled-components';\r\nimport Graph from './utils/Graph';\r\nimport Timer from './utils/Timer';\r\n\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`\r\n\r\nconst App = ({ result }) => {\r\n  const { salon, pawel, michal, bedroom, bathroom, date } = result\r\n  const [room, setRoom] = useState(null)\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Timer time={date}></Timer>\r\n      </Container>\r\n      <Container>\r\n        <Room temp={salon} roomname=\"Salon\" onClick={() => setRoom(\"salon\")} />\r\n        <Room temp={pawel} roomname=\"Pawel\" onClick={() => setRoom(\"pawel\")} />\r\n        <Room temp={michal} roomname=\"Michal\" onClick={() => setRoom(\"michal\")} />\r\n        <Room temp={bedroom} roomname=\"Sypialnia\" onClick={() => setRoom(\"bedroom\")} />\r\n        <Room temp={bathroom} roomname=\"Åazienka\" onClick={() => setRoom(\"bathroom\")} />\r\n      </Container>\r\n      <Container>\r\n        <Graph room={room} />\r\n      </Container>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nfetch(`http://192.168.89.200:3001/temp/now`)\r\n    .then((result => {\r\n        return result.json()\r\n    }))\r\n    .then(result => { ReactDOM.render(<App result={result} />, document.getElementById('root')) })\r\n"],"sourceRoot":""}